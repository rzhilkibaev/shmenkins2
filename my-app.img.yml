# recipe name
name: my-app.img

# Optional
# A list of dependencies
imports:
  - commons.jar
  - utils.jar

# Optional
# A list of steps to be executed before the main steps
# Failure of any these steps will mark build as 'failed to run'
before:
  - cmd: install mvn

# A list of build steps
# Failure of any these steps will mark build as 'failed to build'
steps:
  - cmd: mvn clean verify
  - cmd: docker build
  - cmd: docker install

# Optional
# A list of steps to be executed after the main steps are successfully executed
# Failure of any these steps will mark build as 'failed to finalise'
afterSuccess:
  - cmd: publish-test-results-to-sonar

# Optional
# A list of steps to be executed after the main steps are failed to execute
# Failure of any these steps will mark build as 'failed to finalise'
afterFailure:
  - cmd: do-something-else

# Optional
# A list of build artifacts generated by the recipe
# Defaults to recipe name
exports:
  - my-app-jdk4.img
    json: <file1.json>
  - my-app-jdk5.img
    json: <file2.json>
